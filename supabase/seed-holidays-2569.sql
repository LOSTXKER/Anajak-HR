-- =============================================
-- วันหยุดประจำปี พ.ศ. 2569 (ค.ศ. 2026)
-- =============================================
-- Script นี้สามารถรันซ้ำได้ (idempotent) โดยจะไม่เพิ่มซ้ำถ้ามีอยู่แล้ว

-- ส่วนที่ 1: วันหยุดตามประเพณี (13 วัน)

INSERT INTO holidays (date, name, type)
SELECT d.date, d.name, d.type::VARCHAR(20)
FROM (VALUES
  ('2026-01-01'::DATE, 'วันขึ้นปีใหม่', 'public'),
  ('2026-03-03'::DATE, 'วันมาฆบูชา', 'public'),
  ('2026-04-06'::DATE, 'วันจักรี', 'public'),
  ('2026-04-13'::DATE, 'วันสงกรานต์', 'public'),
  ('2026-04-14'::DATE, 'วันสงกรานต์', 'public'),
  ('2026-04-15'::DATE, 'วันสงกรานต์', 'public'),
  ('2026-05-01'::DATE, 'วันแรงงานแห่งชาติ', 'public'),
  ('2026-06-01'::DATE, 'ชดเชยวันวิสาขบูชา', 'public'),
  ('2026-07-29'::DATE, 'วันอาสาฬหบูชา', 'public'),
  ('2026-08-12'::DATE, 'วันแม่แห่งชาติ', 'public'),
  ('2026-10-13'::DATE, 'วันคล้ายวันสวรรคต ร.9', 'public'),
  ('2026-12-07'::DATE, 'ชดเชยวันพ่อแห่งชาติ', 'public'),
  ('2026-12-10'::DATE, 'วันรัฐธรรมนูญ', 'public')
) AS d(date, name, type)
WHERE NOT EXISTS (
  SELECT 1 FROM holidays h WHERE h.date = d.date
);

-- ส่วนที่ 2: วันหยุดยาวเทศกาลปีใหม่ (26 ธ.ค. 2569 - 2 ม.ค. 2570)
-- วันเสาร์-อาทิตย์ไม่ต้องเพิ่ม (26-27 ธ.ค. และ 2 ม.ค.)
-- เพิ่มเฉพาะวันจันทร์-พฤหัสบดี 28-31 ธ.ค. เป็นวันหยุดบริษัท

INSERT INTO holidays (date, name, type)
SELECT d.date, d.name, d.type::VARCHAR(20)
FROM (VALUES
  ('2026-12-28'::DATE, 'หยุดเทศกาลปีใหม่', 'company'),
  ('2026-12-29'::DATE, 'หยุดเทศกาลปีใหม่', 'company'),
  ('2026-12-30'::DATE, 'หยุดเทศกาลปีใหม่', 'company'),
  ('2026-12-31'::DATE, 'หยุดเทศกาลปีใหม่', 'company'),
  ('2027-01-01'::DATE, 'วันขึ้นปีใหม่', 'public')
) AS d(date, name, type)
WHERE NOT EXISTS (
  SELECT 1 FROM holidays h WHERE h.date = d.date
);
